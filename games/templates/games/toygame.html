<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<iframe width=100% height=1000px src="http://web.mit.edu/bhanks/www/gba/"></iframe>
</body>
<script>
    function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for(var i=0; i<ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0)==' ') c = c.substring(1);
          if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
        }
    }
    class Report {
      constructor() {
        this.url = "api/gamesession";
      }
      submitData(data) {
          var d = new Date();
          var local_creation_time =
                d.getDate() + "/"
                + (d.getMonth()+1)  + "/"
                + d.getFullYear() + " "
                + d.getHours() + ":"
                + d.getMinutes() + ":"
                + d.getSeconds();
        var xhr = new XMLHttpRequest();
        var data_string = {};
        data_string["local_creation_time"] = local_creation_time;
        for (var key in data) {data_string[key] = data[key];};
        data_string = JSON.stringify(data_string);
        xhr.open('POST', this.url, true);
        xhr.setRequestHeader("HTTP_X_CSRFTOKEN", getCookie(csrftoken))
        xhr.setRequestHeader("Content-Type","application/json");
        xhr.send(data_string);
        return xhr.response
      }
    }
    var report = new Report()

    function getLanguages() {
        var languages = [];
        if (navigator.languages == null ) {
          return navigator.language
        };
        for (x in navigator.languages) { languages.push(navigator.languages[x]) }
        return languages.join(',')
      }
      var fingerprint = {
        user_agent : navigator.userAgent,
            screen_size : (screen.width + 'x' + screen.height),
            browser_url : window.location.href,
        languages : getLanguages()
      };
      report.submitData(fingerprint)





</script>
</html>